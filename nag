#! /usr/bin/env clisp
(setf mode nil)
(setf *random-state* (make-random-state t))

; bootstrap nag
(defun home-path ()
  (directory-namestring
    (merge-pathnames 
     (make-pathname
      :directory '(:relative ""))
     (user-homedir-pathname))))

; "./lib/nag.lisp"
(load (format nil "~Anag/lib/nag.lisp" (home-path)))

;;process each task read in
; "./nag.symlink/questions"
(defun nag ()
  (mapcar #'process-task (get-tasks)))

(case (read-from-string (or (car *args*) "NIL"))
      ('NIL (funcall 'nag))
      ('edit (format t "edit"))
      (t (format t "~A not an option~%" (car *args*))))
