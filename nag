#! /usr/bin/env clisp
(setf mode nil)

; bootstrap nag
(defun home-path ()
  (directory-namestring
    (merge-pathnames 
     (make-pathname
      :directory '(:relative ""))
     (user-homedir-pathname))))

; "./lib/nag.lisp"
(load (format nil "~Anag/lib/nag.lisp" (home-path)))

;;process each task read in
; "./nag.symlink/questions"
(defun nag ()
  (mapcar #'process-task (read-lines (format nil "~A.nag/questions" (home-path)))))

(case (car *args*)
      ('NIL (funcall 'nag))
      (t (format t "~A not an option~%" (car *args*))))

